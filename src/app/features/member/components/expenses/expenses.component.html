<div class="expenses">
  <!-- Header Section -->
  <header class="page-header">
    <div class="header-left">
      <p class="breadcrumb">Logged in as: <strong>Sarah Williams â€¢ Team Member</strong></p>
      <h1>My Expenses</h1>
    </div>
    <div class="header-right">
      <div class="user-badge">
        <span class="user-icon">ðŸ‘¤</span>
        <span class="user-name">Sarah Williams</span>
        <span class="role-badge">Member</span>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="content-wrapper">
    <div class="expense-container">
      <!-- Submit New Expense Form -->
      <div class="expense-form">
        <h2>Submit New Expense</h2>

        <form (ngSubmit)="submitExpense()">
          <!-- Date Field -->
          <div class="form-group">
            <label for="expenseDate">Date</label>
            <input
              type="date"
              id="expenseDate"
              [(ngModel)]="expense.date"
              name="date"
              class="form-control"
              placeholder="dd/mm/yyyy"
              required
            />
          </div>

          <!-- Category Field -->
          <div class="form-group">
            <label for="expenseCategory">Category</label>
            <input
              type="text"
              id="expenseCategory"
              [(ngModel)]="expense.category"
              name="category"
              class="form-control"
              placeholder="e.g., Travel, Office Supplies, Meals"
              required
            />
          </div>

          <!-- Amount Field -->
          <div class="form-group">
            <label for="expenseAmount">Amount ($)</label>
            <input
              type="number"
              id="expenseAmount"
              [(ngModel)]="expense.amount"
              name="amount"
              class="form-control"
              placeholder="0.00"
              step="0.01"
              min="0"
              required
            />
          </div>

          <!-- Description Field -->
          <div class="form-group">
            <label for="expenseDescription">Description</label>
            <textarea
              id="expenseDescription"
              [(ngModel)]="expense.description"
              name="description"
              class="form-control"
              placeholder="Describe the expense..."
              rows="4"
            ></textarea>
          </div>

          <!-- File Upload -->
          <div class="form-group">
            <label for="receiptFile">Upload Receipt</label>
            <input
              type="file"
              #fileInput
              (change)="onFileSelected($event)"
              id="receiptFile"
              accept=".pdf,.jpg,.jpeg,.png"
              style="display: none;"
            />
            <div class="upload-area" (click)="fileInput.click()">
              <span class="upload-icon">â¬†</span>
              <span>{{ uploadAreaLabel }}</span>
            </div>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn-submit">Submit Expense</button>
        </form>
      </div>

      <!-- Expense History -->
      <div class="expense-info">
        <div class="info-card">
          <h3>Expense History</h3>

          <!-- History Items -->
          <div *ngIf="expense.history && expense.history.length > 0">
            <div class="history-item" *ngFor="let item of expense.history">
              <div class="history-left">
                <div class="history-content">
                  <h4>{{ item.action }}</h4>
                  <p>{{ item.description || item.status }}</p>
                  <div class="history-meta">
                    <span class="history-date">{{ item.date }}</span>
                    <span class="history-file" *ngIf="item.file">
                      <span class="file-icon">ðŸ“„</span>
                      {{ item.file }}
                    </span>
                  </div>
                </div>
              </div>
              <div class="history-right">
                <span class="badge-status" [ngClass]="getBadgeClass(item.status)">
                  {{ item.status }}
                </span>
                <span class="history-amount">${{ item.amount.toFixed(2) }}</span>
              </div>
            </div>
          </div>

          <!-- Empty State -->
          <div *ngIf="!expense.history || expense.history.length === 0" class="empty-state">
            <p>No expense history yet</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
