<div class="app-container" [class.no-sidebar]="!showSidebar">
  
  <!-- ==================== ADMIN SIDEBAR ==================== -->
  <aside class="sidebar" *ngIf="showSidebar && userRole === UserRole.ADMIN">
    <div class="logo">ADMIN</div>
    <nav class="nav-menu">
      <a routerLink="/admin/dashboard" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ“Š</span> Dashboard
      </a>
      
      <div class="nav-group">
        <div class="nav-group-header" (click)="toggleUserManagement()">
          <span class="icon">ğŸ‘¥</span> User management
          <span class="toggle-icon">{{ isUserManagementOpen ? 'âˆ§' : 'âˆ¨' }}</span>
        </div>
        
        <div class="nav-submenu" [class.open]="isUserManagementOpen">
          <a routerLink="/admin/permissions" routerLinkActive="active" class="nav-subitem">
            <span class="icon">ğŸ›¡ï¸</span> Permissions
          </a>
          <a routerLink="/admin/roles" routerLinkActive="active" class="nav-subitem">
            <span class="icon">ğŸ­</span> Roles
          </a>
          <a routerLink="/admin/users" routerLinkActive="active" class="nav-subitem">
            <span class="icon">ğŸ‘¤</span> Users
          </a>
        </div>
      </div>
      
      <a routerLink="/shared/change-password" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ”‘</span> Change password
      </a>
      
      <a href="#" class="nav-item" (click)="logout($event)">
        <span class="icon">ğŸšª</span> Logout
      </a>
    </nav>
  </aside>

  <!-- ==================== PM (PROJECT MANAGER) SIDEBAR ==================== -->
  <aside class="sidebar" *ngIf="showSidebar && userRole === UserRole.PROJECT_MANAGER">
    <div class="logo">PM Dashboard</div>
    <div class="user-info">{{ userName }}</div>
    
    <nav class="nav-menu">
      <a routerLink="/pm/dashboard" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ </span> Dashboard
      </a>
      
      <a routerLink="/pm/projects" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ“‹</span> Project Management
      </a>
      
      <a routerLink="/pm/team" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ‘¥</span> Team Members
      </a>
      
      <a routerLink="/pm/receipts" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ“„</span> Receipt Approval
      </a>
      
      
      <a routerLink="/shared/change-password" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ”‘</span> Change password
      </a>
      
      <a href="#" class="nav-item" (click)="logout($event)">
        <span class="icon">ğŸšª</span> Logout
      </a>
    </nav>
  </aside>

  <!-- ==================== MEMBER SIDEBAR ==================== -->
  <aside class="sidebar" *ngIf="showSidebar && userRole === UserRole.MEMBER">
    <div class="logo">Member Dashboard</div>
    <div class="user-info">{{ userName }}</div>
    
    <nav class="nav-menu">
      <a routerLink="/member/dashboard" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ </span> Dashboard
      </a>
      
      <a routerLink="/member/projects" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ“‹</span> Project Management
      </a>
      
      <a routerLink="/member/team" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ‘¥</span> Team Members
      </a>
      
      <a routerLink="/member/expenses" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ’°</span> My Expenses
      </a>
      
      
      <a routerLink="/shared/change-password" routerLinkActive="active" class="nav-item">
        <span class="icon">ğŸ”‘</span> Change password
      </a>
      
      <a href="#" class="nav-item" (click)="logout($event)">
        <span class="icon">ğŸšª</span> Logout
      </a>
    </nav>
  </aside>

  <!-- ==================== MAIN CONTENT ==================== -->
  <main class="main-content" [class.full-width]="!showSidebar">
    <div class="top-header" *ngIf="showSidebar">Project Management System</div>
    <router-outlet></router-outlet>
  </main>

  <!-- Help Button -->
  <button class="help-button" *ngIf="showSidebar">?</button>
</div>